{"version":3,"sources":["webpack:///./src/components/record/RecordManage.vue","webpack:///src/components/record/RecordManage.vue","webpack:///./src/components/record/RecordManage.vue?2207","webpack:///./src/components/record/RecordManage.vue?db64"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","loadPost","apply","arguments","model","value","name","callback","$$v","expression","storage","_l","storageData","item","id","goodstype","goodstypeData","on","_v","resetParam","tableData","background","color","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","user","centerDialogVisible","form","count","remark","methods","formatStorage","formatGoodstype","resetForm","console","loadStorage","alert","loadGoodstype","param","roleId","userId","then","res","beforeMount","component"],"mappings":"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","file":"js/chunk-2d0e448f.6340c956.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入物品名\",\"suffix-icon\":\"el-icon-search\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('el-select',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"placeholder\":\"请选择仓库\"},model:{value:(_vm.storage),callback:function ($$v) {_vm.storage=$$v},expression:\"storage\"}},_vm._l((_vm.storageData),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1),_c('el-select',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.goodstype),callback:function ($$v) {_vm.goodstype=$$v},expression:\"goodstype\"}},_vm._l((_vm.goodstypeData),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadPost}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.resetParam}},[_vm._v(\"重置\")])],1),_c('el-table',{attrs:{\"data\":_vm.tableData,\"header-cell-style\":{ background: '#f2f5fc', color: '#555555' },\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"goodsname\",\"label\":\"物品名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"storagename\",\"label\":\"仓库\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"goodstypename\",\"label\":\"分类\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"adminname\",\"label\":\"操作人\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"申请人\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"count\",\"label\":\"数量\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"createtime\",\"label\":\"操作时间\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[5, 10, 20,30],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"margin-bottom: 5px;\">\r\n            <el-input v-model=\"name\" placeholder=\"请输入物品名\" suffix-icon=\"el-icon-search\" style=\"width: 200px;\"\r\n                      @keyup.enter.native=\"loadPost\"></el-input>\r\n            <el-select v-model=\"storage\" placeholder=\"请选择仓库\" style=\"margin-left: 5px;\">\r\n                <el-option\r\n                        v-for=\"item in storageData\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-select v-model=\"goodstype\" placeholder=\"请选择分类\" style=\"margin-left: 5px;\">\r\n                <el-option\r\n                        v-for=\"item in goodstypeData\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\r\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\r\n\r\n\r\n        </div>\r\n        <el-table :data=\"tableData\"\r\n                  :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\"\r\n                  border\r\n        >\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"storagename\" label=\"仓库\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodstypename\" label=\"分类\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"adminname\" label=\"操作人\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"username\" label=\"申请人\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"count\" label=\"数量\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"remark\" label=\"备注\">\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageNum\"\r\n                :page-sizes=\"[5, 10, 20,30]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"RecordManage\",\r\n        data() {\r\n\r\n            return {\r\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\r\n                storageData:[],\r\n                goodstypeData:[],\r\n                tableData: [],\r\n                pageSize:10,\r\n                pageNum:1,\r\n                total:0,\r\n                name:'',\r\n                storage:'',\r\n                goodstype:'',\r\n                centerDialogVisible:false,\r\n                form:{\r\n                    id:'',\r\n                    name:'',\r\n                    storage:'',\r\n                    goodstype:'',\r\n                    count:'',\r\n                    remark:''\r\n                },\r\n            }\r\n        },\r\n        methods:{\r\n            formatStorage(row){\r\n                let temp =  this.storageData.find(item=>{\r\n                    return item.id == row.storage\r\n                })\r\n\r\n                return temp && temp.name\r\n            },\r\n            formatGoodstype(row){\r\n                let temp =  this.goodstypeData.find(item=>{\r\n                    return item.id == row.goodstype\r\n                })\r\n\r\n                return temp && temp.name\r\n            },\r\n            resetForm() {\r\n                this.$refs.form.resetFields();\r\n            },\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.pageNum=1\r\n                this.pageSize=val\r\n                this.loadPost()\r\n            },\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.pageNum=val\r\n                this.loadPost()\r\n            },\r\n            resetParam(){\r\n                this.name=''\r\n                this.storage=''\r\n                this.goodstype=''\r\n            },\r\n            loadStorage(){\r\n                this.$axios.get(this.$httpUrl+'/storage/list').then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.storageData=res.data\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            loadGoodstype(){\r\n                this.$axios.get(this.$httpUrl+'/goodstype/list').then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.goodstypeData=res.data\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            loadPost(){\r\n                this.$axios.post(this.$httpUrl+'/record/listPage',{\r\n                    pageSize:this.pageSize,\r\n                    pageNum:this.pageNum,\r\n                    param:{\r\n                        name:this.name,\r\n                        goodstype:this.goodstype+'',\r\n                        storage:this.storage+'',\r\n                        roleId:this.user.roleId+'',\r\n                        userId:this.user.id+''\r\n                    }\r\n                }).then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.tableData=res.data\r\n                        this.total=res.total\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n        },\r\n        beforeMount() {\r\n            this.loadStorage()\r\n            this.loadGoodstype()\r\n            this.loadPost()\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecordManage.vue?vue&type=template&id=3adeeffa&scoped=true&\"\nimport script from \"./RecordManage.vue?vue&type=script&lang=js&\"\nexport * from \"./RecordManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3adeeffa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}